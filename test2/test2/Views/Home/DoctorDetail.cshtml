
@{
    Layout = "Layout_login";
    ViewData["Title"] = "Doctor Detail";
}

<section class="bg-half-170 d-table w-100 bg-light">
    <div class="container">
        <div class="row mt-5 justify-content-center">
            <div class="col-12">
                <div class="section-title text-center">
                    <h3 class="sub-title mb-4">Doctor</h3>
                    <p class="para-desc mx-auto text-muted">If you or your loved ones need immediate assistance or emergency treatment, please book an appointment.</p>
                    <nav aria-label="breadcrumb" class="d-inline-block mt-3">
                        <ul class="breadcrumb bg-transparent mb-0">
                            <li class="breadcrumb-item"><a href="home">Home</a></li>
                            <li class="breadcrumb-item"><a href="doctor?action=all">Doctor List</a></li>
                            <li class="breadcrumb-item"><a href="#">Details</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</section>


<div class="position-relative">
    <div class="shape overflow-hidden text-white">
        <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z" fill="currentColor"></path>
        </svg>
    </div>
</div>

<section class="section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-5">
                <div class="slider slider-for">
                    <div><img src="~/assets/images/doctors/bs-an.png" class="img-fluid rounded" alt=""></div>
                </div>
            </div>

            <div class="col-md-7 mt-4 mt-sm-0 pt-2 pt-sm-0">
                <div class="section-title ms-md-4">
                    <h4 class="title">Nguyen Van A</h4>
                    <p class="text-muted">Cardiology Department</p>
                    <h5 class="text-muted">1,200,000 VND</h5>
                    <ul class="list-unstyled text-warning h5 mb-0">
                        <li class="list-inline-item"><i class="mdi mdi-star"></i></li>
                        <li class="list-inline-item"><i class="mdi mdi-star"></i></li>
                        <li class="list-inline-item"><i class="mdi mdi-star"></i></li>
                        <li class="list-inline-item"><i class="mdi mdi-star"></i></li>
                        <li class="list-inline-item"><i class="mdi mdi-star-half"></i></li>
                        <li class="list-inline-item me-2 h6 text-muted">(120 Reviews)</li>
                    </ul>

                    <h5 class="mt-4 py-2">Description :</h5>
                    <p class="text-muted">Cardiologist with 10 years of experience, previously worked at a major hospital.</p>

                    <div class="mt-4 pt-2">
                        <a href="book?type=appointment&id=1" class="btn btn-primary">Book Appointment</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-100 mt-60">
        <div class="row">
            <div class="col-12">
                <h5 class="mb-0 text-start">Patient Reviews :</h5>
            </div>
        </div>

        <div class="row mt-4" id="patientReviews">
            <div class="col-md-12">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="d-flex align-items-start">
                            <img src="~/assets/images/avata.png" alt="Patient 1" class="rounded-circle me-3" width="50">
                            <div>
                                <h6 class="mb-1">Tran Van B</h6>
                                <ul class="list-unstyled text-warning h6 mb-0">
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star-half"></i></li>
                                </ul>
                                <p class="text-muted mt-2">The doctor was very attentive and professional. I felt comfortable during the consultation.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-body">
                        <div class="d-flex align-items-start">
                            <img src="~/assets/images/avata.png" alt="Patient 2" class="rounded-circle me-3" width="50">
                            <div>
                                <h6 class="mb-1">Nguyen Thi C</h6>
                                <ul class="list-unstyled text-warning h6 mb-0">
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                </ul>
                                <p class="text-muted mt-2">Great service and the doctor was very considerate. I’m very satisfied with my experience.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-body">
                        <div class="d-flex align-items-start">
                            <img src="~/assets/images/avata.png" alt="Patient 3" class="rounded-circle me-3" width="50">
                            <div>
                                <h6 class="mb-1">Le Van D</h6>
                                <ul class="list-unstyled text-warning h6 mb-0">
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fas fa-star"></i></li>
                                </ul>
                                <p class="text-muted mt-2">I feel reassured when visiting here. Thank you so much, doctor!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Review Input Section -->
        <div class="row mt-5">
            <h5 class="card-title mt-4 mb-0 text-start">Review :</h5>
            <form action="rate?doctor=1" method="POST" class="mt-3" id="ratingForm">
                <div class="row">
                    <div class="col-md-12">
                        <div class="mb-3">
                            <div class="rate" id="starRating">
                                <input type="hidden" name="rate" id="rate" value="0" />
                                <label for="star5" title="5 stars" class="star" data-value="5"><i class="fas fa-star"></i></label>
                                <label for="star4" title="4 stars" class="star" data-value="4"><i class="fas fa-star"></i></label>
                                <label for="star3" title="3 stars" class="star" data-value="3"><i class="fas fa-star"></i></label>
                                <label for="star2" title="2 stars" class="star" data-value="2"><i class="fas fa-star"></i></label>
                                <label for="star1" title="1 star" class="star" data-value="1"><i class="fas fa-star"></i></label>
                            </div>
                            <textarea name="comment" class="form-control mt-3" rows="4" placeholder="Enter your review..."></textarea>
                        </div>
                    </div>
                </div>
                <div class="text-start">
                    <button type="submit" class="btn btn-primary">Submit Review</button>
                </div>
            </form>
        </div>
    </div>



        <script>
            document.querySelectorAll('.star').forEach(star => {
                star.addEventListener('mouseover', function () {
                    const rating = this.getAttribute('data-value');
                    document.querySelectorAll('.star').forEach(s => {
                        s.classList.remove('text-warning'); 
                        if (s.getAttribute('data-value') <= rating) {
                            s.classList.add('text-warning'); 
                        }
                    });
                });

                star.addEventListener('click', function () {
                    const rating = this.getAttribute('data-value');
                    document.getElementById('rate').value = rating; 
                });

                star.addEventListener('mouseleave', function () {
                    const selectedRating = document.getElementById('rate').value;
                    document.querySelectorAll('.star').forEach(s => {
                        s.classList.remove('text-warning');
                        if (s.getAttribute('data-value') <= selectedRating) {
                            s.classList.add('text-warning'); 
                        }
                    });
                });
            });
        </script>

    </div>
</section>

<style>
    .star {
        font-size: 30px;
        color: #ccc;
        cursor: pointer; 
    }

        .star.text-warning {
            color: #f39c12; 
        }

    #patientReviews {
        margin-top: 20px; 
    }

    .card {
        border: 1px solid #e0e0e0; 
        border-radius: 8px; 
    }

    .card-body {
        padding: 15px;
    }

    .mb-3 {
        margin-bottom: 1rem; 
    }

    

</style>